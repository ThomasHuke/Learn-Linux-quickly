# 权限
## [目录](./summary.md)
## 基本概念
- id – 显示用户身份号

- chmod – 更改文件模式

- umask – 设置默认的文件权限

- su – 以另一个用户的身份来运行 shell

- sudo – 以另一个用户的身份来执行命令

- chown – 更改文件所有者

- chgrp – 更改文件组所有权

- passwd – 更改用户密码
## `id`
id 命令可以显示出来你本机上的各种”用户”(包括你本身，各种程序占用的用户，超级管理员用户，访客用户等)我们看一下例子：
```bash
id

uid=501(thomashuke) gid=20(staff) groups=20(staff)...

```
这个例子中我们可以看出在我的mac上用户这个普通的用户是501一般来说普通用户的id都是从500开始，乌班图是从1000开始计算的。

## 我们看文件类型

```bash
ls -l 
# 可以显示出具体的内容

drwxrwxrwx    4 thomashuke  staff     136 Sep 23  2016 Adlm
```
我们先看`drwxrwxrwx`中第一个字符`d`,它的含义就是一个目录文件。（unix中一切皆是文件）下面给出常见的类型分布：

-	`-`  普通文件
- d	目录
- l	符号链接。注意对于符号链接文件，剩余的文件属性总是"rwxrwxrwx"，而且都是 虚拟值。真正的文件属性是指符号链接所指向的文件的属性。
- c	字符设备文件。这种文件类型是指按照字节流，来处理数据的设备。 比如说终端机，或者调制解调器
- b	块设备文件。这种文件类型是指按照数据块，来处理数据的设备，例如一个硬盘，或者 CD-ROM 盘。

---

剩下的九个字符，叫做文件模式，代表着文件所有者，文件组所有者，和其他人的读，写，执行权限。
- r	允许打开并读取文件内容。	允许列出目录中的内容，前提是目录必须设置了可执行属性（x）。

- w	允许写入文件内容或截断文件。但是不允许对文件进行重命名或删除，重命名或删除是由目录的属性决定的。	允许在目录下新建、删除或重命名文件，前提是目录必须设置了可执行属性（x）。

- x	允许将文件作为程序来执行，使用脚本语言编写的程序必须设置为可读才能被执行。	允许进入目录，例如：cd directory 。

```bash
drdxr--r--
```
dxxx

这三个x分别代表了 用户+小组+访客例子中就是说是此目录仅仅可以用户读写执行小组只可以读，访客不可读。

> 备注：文件一共有10个字符，（当然如果是`-`也算）来举个例子：
~~~bash
-rwxrwx---
~~~
我们看，文件是有十个字符的分别是：
- \-
- rwx
- rwx
- \---

我把这三组分别解释一下：第一个\- 证明它是一个普通文件，第二组rwx证明对于用户而言它可读可写可执行，第三组rwx对于小组来说它也是可读可写可执行，第四组\---证明对于访客它不可读不可写不可执行。
## chmod
我想chomd你不会陌生的把，一个shell script的执行离不开chomd（`chmod +x ./fileName`）

chomod,这个命令是更改文件的权限，比如shell执行的时候如果某个脚本没有执行的权限的话，那么chmod就派上用场了。

不过要记得只有用户和超级用户才有更改的权限，小组和访客是无法更改的。

chomd使用八进制数字更改或者是符号更改。
> 八进制就是逢八进一，就跟逢十进一是一样的，当然还有16进制2进制等等。

dd
|八进制数字|代表的模式|
|---|---|
|0|---|
|1|--x|
|2|-w-|
|3|-wx|
|4|r--|
|5|r-x|
|6|rw-|
|7|rwx|
						

